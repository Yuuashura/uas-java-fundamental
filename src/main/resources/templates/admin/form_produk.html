<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Form Artefak - Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Quicksand:wght@600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Quicksand', sans-serif;
            background: #1e1535 url('https://raw.githubusercontent.com/Yuuashura/assets/refs/heads/main/1362745.png') fixed center/cover;
            color: #fff; min-height: 100vh; display: flex; align-items: center; justify-content: center;
        }
        body::after { content: ''; position: fixed; inset: 0; background: rgba(15, 10, 30, 0.85); z-index: -1; }

        .glass-card {
            background: rgba(40, 30, 70, 0.8);
            border: 1px solid rgba(162, 155, 254, 0.3);
            border-radius: 20px; padding: 2rem;
            box-shadow: 0 0 40px rgba(138, 43, 226, 0.2);
            width: 100%; max-width: 700px;
        }
        
        .form-label { color: #a29bfe; font-size: 0.9rem; margin-bottom: 5px; }
        .form-control, .form-select {
            background: rgba(0, 0, 0, 0.5); border: 1px solid #4b4b65; color: #fff;
        }
        .form-control:focus, .form-select:focus {
            background: rgba(0, 0, 0, 0.7); border-color: #a29bfe; color: #fff; box-shadow: 0 0 15px rgba(162, 155, 254, 0.3);
        }
        /* Style opsi dropdown biar kelihatan jelas di background gelap */
        .form-select option {
            background-color: #1e1535;
            color: #fff;
        }

        .title { font-family: 'Cinzel', serif; color: #fdcb6e; text-align: center; margin-bottom: 1.5rem; }
    </style>
</head>
<body>

<div class="glass-card">
    <h3 class="title" th:text="${produk.idProduct == null ? 'TEMPA ITEM BARU' : 'MODIFIKASI ITEM'}">Form</h3>
    
    <form th:action="@{${produk.idProduct == null} ? '/admin/produk/simpan' : '/admin/produk/update'}" 
          th:object="${produk}" method="post" enctype="multipart/form-data">
        
        <input type="hidden" th:field="*{idProduct}">

        <div class="row mb-3">
            <div class="col-md-6">
                <label class="form-label">Nama Barang</label>
                <input type="text" th:field="*{namaProduct}" class="form-control" required>
            </div>
            <div class="col-md-6">
                <label class="form-label">Kategori</label>
                <select th:field="*{kategoriProduct}" class="form-select">
                    <option value="" disabled selected>-- Pilih Jenis --</option>
                    
                    <option value="Senjata">Senjata (Weapons)</option>
                    <option value="Makanan">Makanan (Food)</option>
                    <option value="Material">Material & Flora</option>
                    <option value="Aksesoris">Aksesoris & Artefak</option>
                    <option value="Merchandise">Merchandise & Pajangan</option>
                    <option value="Buku">Buku & Novel</option>
                    <option value="Gadget">Gadget & Alat</option>
                    <option value="Lainnya">Lainnya</option>
                    
                    <option value="Cosplay">Cosplay & Wig</option>
                    <option value="Apparel">Apparel (Baju)</option>
                    <option value="Figure">Figure & Pajangan</option>
                    <option value="Boneka">Boneka & Plushie</option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label class="form-label">Harga (Mora)</label>
                <input type="number" th:field="*{harga}" class="form-control" required>
            </div>
            <div class="col-md-6">
                <label class="form-label">Stok Gudang</label>
                <input type="number" th:field="*{stock}" class="form-control" required>
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Deskripsi Lengkap</label>
            <textarea th:field="*{deskripsiProduct}" class="form-control" rows="3"></textarea>
        </div>

        <div class="mb-4">
            <label class="form-label">Visual (Gambar)</label>
            <div th:if="${produk.gambarProduct != null}" class="mb-2">
                <img th:src="'data:image/jpeg;base64,' + ${produk.gambarProduct}" width="80" class="rounded border border-secondary">
            </div>
            <input type="file" name="fileGambar" class="form-control" accept="image/*" th:required="${produk.idProduct == null}">
        </div>

        <div class="d-flex gap-2">
            <a href="/admin/produk" class="btn btn-outline-light w-50">Batal</a>
            <button type="submit" class="btn w-50 fw-bold" style="background: linear-gradient(90deg, #fdcb6e, #e17055); border: none; color: #000;">SIMPAN</button>
        </div>
    </form>
</div>

</body>
</html>